!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return a[e]=l,t.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l);var i=l("bpxeT"),r=l("2TvXO"),o=l("4Nugj"),s=(i=l("bpxeT"),l("8MBJY")),c=l("a2hTj"),d=(r=l("2TvXO"),l("dIxxU")),u=function(){"use strict";function t(){e(s)(this,t),this.id=0}return e(c)(t,[{key:"fetchById",value:function(){var t=this;return e(i)(e(r).mark((function a(){var n;return e(r).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(d).defaults.baseURL="https://api.themoviedb.org/3","74bfe718a55ac7916c6e6ad87b15f944",a.prev=2,a.next=5,e(d).get("/movie/".concat(t.id,"?api_key=").concat("74bfe718a55ac7916c6e6ad87b15f944","&language=en-US"));case 5:return n=a.sent,a.abrupt("return",n);case 9:a.prev=9,a.t0=a.catch(2),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()}},{key:"filmId",get:function(){return this.id},set:function(e){this.id=e}}]),t}();l("jPW8c"),l("6qd2L");var f=l("5hsTI"),m=new u,p=JSON.parse(localStorage.getItem("saveDataStorage"))||{queue:[],watched:[]};function h(){return(h=e(i)(e(r).mark((function t(a){var n,l,i;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"A"===a.target.parentNode.parentElement.nodeName){e.next=3;break}return e.abrupt("return");case 3:return n=a.target.parentNode.parentElement.id,m.filmId=n,e.next=7,m.fetchById();case 7:return l=e.sent,e.next=10,v(l.data);case 10:i=e.sent,(0,f.cleanerMarkup)(o.refs.modalFilmWrap),g(i),o.refs.backdropEl.classList.remove("visually-hidden");case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function v(e){var t=e.poster_path,a=e.original_title,n=e.title,l=e.vote_average,i=e.vote_count,r=e.genres,o=e.popularity,s=e.overview,c=e.id,d=r.map((function(e){return e.name})).join(", ");return'<div class="modal-film-image-wrap"><img class="modal-film-image" src="https://image.tmdb.org/t/p/original'.concat(t,'\n    " alt="').concat(n,'" width="375" height="478">\n    </div>\n    <div class="modal-film-info-wrap">\n    <h2 class="modal-film-title">').concat(n,'</h2>\n    <div class="modal-film-info-list">\n    <ul class="modal-film-properties-list">\n      <li class="modal-film-properties-item">Vote/Votes</li>\n      <li class="modal-film-properties-item">Popularity</li>\n      <li class="modal-film-properties-item">Original Title</li>\n      <li class="modal-film-properties-item">Genre</li>\n    </ul>\n    <ul class="modal-film-value-list">\n      <li class="modal-film-value-item"><span class="modal-film-vote-average">').concat(l,'</span>/<span class="modal-film-vote-count">').concat(i,'</span></li>\n      <li class="modal-film-value-item">').concat(o,'</li>\n      <li class="modal-film-value-item">').concat(a.toUpperCase(),'</li>\n      <li class="modal-film-value-item">').concat(d,'</li>\n    </ul>\n    </div>\n    <h3 class="modal-film-about-title">ABOUT</h3>\n    <p class="modal-film-about-text">').concat(s,'</p>\n    <ul class="modal-film-button-list">\n      <li class="modal-film-button-item"><button id="').concat(c,'" class="modal-film-button" type="button" data-action=\'watched\'>ADD TO WATCHED</button></li>\n      <li class="modal-film-button-item"><button id="').concat(c,'" class="modal-film-button" type="button" data-action=\'queue\'>ADD TO QUEUE</button></li>\n    </ul> </div>')}function g(e){o.refs.modalFilmWrap.insertAdjacentHTML("beforeend",e)}0!==p.watched.length&&(o.refs.watchedHederBtnEl.textContent="watched  '".concat(p.watched.length,"'")),0!==p.watched.length&&(o.refs.queueHederBtnEl.textContent="queue '".concat(p.queue.length,"'")),console.log(p),o.refs.filmList.addEventListener("click",(function(e){return h.apply(this,arguments)})),o.refs.closeBtnEl.addEventListener("click",(function(){o.refs.backdropEl.classList.add("visually-hidden"),(0,f.cleanerMarkup)(o.refs.modalFilmWrap)})),o.refs.modalFilmWrap.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;if("watched"===e.target.dataset.action){var t=e.target.id;p.watched.push(t),0!==p.watched.length&&(o.refs.watchedHederBtnEl.textContent="watched  '".concat(p.watched.length,"'")),localStorage.setItem("saveDataStorage",JSON.stringify(p))}if("queue"===e.target.dataset.action){var a=e.target.id;p.queue.push(a),0!==p.watched.length&&(o.refs.queueHederBtnEl.textContent="queue '".concat(p.queue.length,"'")),localStorage.setItem("saveDataStorage",JSON.stringify(p))}})),o.refs.watchedHederBtnEl.addEventListener("click",(function(){(0,f.cleanerMarkup)(o.refs.filmList)})),o.refs.queueHederBtnEl.addEventListener("click",(function(){(0,f.cleanerMarkup)(o.refs.filmList)}))}();
//# sourceMappingURL=films.c3878301.js.map
