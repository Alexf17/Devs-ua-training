function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in l)return l[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return l[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i);var n=i("krGWQ"),s=i("2shzp");i("iWJ8d"),i("4TNnu");var o=i("1vg23");const r=new class{async fetchById(){e(s).defaults.baseURL="https://api.themoviedb.org/3";try{return await e(s).get(`/movie/${this.id}?api_key=74bfe718a55ac7916c6e6ad87b15f944&language=en-US`)}catch(e){console.error(e)}}get filmId(){return this.id}set filmId(e){this.id=e}constructor(){this.id=0}};let d=JSON.parse(localStorage.getItem("saveDataStorage"))||{queue:[],watched:[]};0!==d.watched.length&&(n.refs.watchedHederBtnEl.textContent=`watched  '${d.watched.length}'`),0!==d.watched.length&&(n.refs.queueHederBtnEl.textContent=`queue '${d.queue.length}'`),console.log(d),n.refs.filmList.addEventListener("click",(async function(e){if(e.preventDefault(),"A"!==e.target.parentNode.parentElement.nodeName)return;let t=e.target.parentNode.parentElement.id;r.filmId=t;const l=await r.fetchById(),a=await function(e){const{poster_path:t,original_title:l,title:a,vote_average:i,vote_count:n,genres:s,popularity:o,overview:r,id:d}=e,c=s.map((({name:e})=>e)).join(", ");return`<div class="modal-film-image-wrap"><img class="modal-film-image" src="https://image.tmdb.org/t/p/original${t}\n    " alt="${a}" width="375" height="478">\n    </div>\n    <div class="modal-film-info-wrap">\n    <h2 class="modal-film-title">${a}</h2>\n    <div class="modal-film-info-list">\n    <ul class="modal-film-properties-list">\n      <li class="modal-film-properties-item">Vote/Votes</li>\n      <li class="modal-film-properties-item">Popularity</li>\n      <li class="modal-film-properties-item">Original Title</li>\n      <li class="modal-film-properties-item">Genre</li>\n    </ul>\n    <ul class="modal-film-value-list">\n      <li class="modal-film-value-item"><span class="modal-film-vote-average">${i}</span>/<span class="modal-film-vote-count">${n}</span></li>\n      <li class="modal-film-value-item">${o}</li>\n      <li class="modal-film-value-item">${l.toUpperCase()}</li>\n      <li class="modal-film-value-item">${c}</li>\n    </ul>\n    </div>\n    <h3 class="modal-film-about-title">ABOUT</h3>\n    <p class="modal-film-about-text">${r}</p>\n    <ul class="modal-film-button-list">\n      <li class="modal-film-button-item"><button id="${d}" class="modal-film-button" type="button" data-action='watched'>ADD TO WATCHED</button></li>\n      <li class="modal-film-button-item"><button id="${d}" class="modal-film-button" type="button" data-action='queue'>ADD TO QUEUE</button></li>\n    </ul> </div>`}(l.data);(0,o.cleanerMarkup)(n.refs.modalFilmWrap),function(e){n.refs.modalFilmWrap.insertAdjacentHTML("beforeend",e)}(a),n.refs.backdropEl.classList.remove("visually-hidden")})),n.refs.closeBtnEl.addEventListener("click",(function(){n.refs.backdropEl.classList.add("visually-hidden"),(0,o.cleanerMarkup)(n.refs.modalFilmWrap)})),n.refs.modalFilmWrap.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;if("watched"===e.target.dataset.action){let t=e.target.id;d.watched.push(t),0!==d.watched.length&&(n.refs.watchedHederBtnEl.textContent=`watched  '${d.watched.length}'`),localStorage.setItem("saveDataStorage",JSON.stringify(d))}if("queue"===e.target.dataset.action){let t=e.target.id;d.queue.push(t),0!==d.watched.length&&(n.refs.queueHederBtnEl.textContent=`queue '${d.queue.length}'`),localStorage.setItem("saveDataStorage",JSON.stringify(d))}})),n.refs.watchedHederBtnEl.addEventListener("click",(function(){(0,o.cleanerMarkup)(n.refs.filmList)})),n.refs.queueHederBtnEl.addEventListener("click",(function(){(0,o.cleanerMarkup)(n.refs.filmList)}));
//# sourceMappingURL=films.e8fcb763.js.map
