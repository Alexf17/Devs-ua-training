!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},l={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){l[e]=t},t.parcelRequired7c6=n);var i=n("bpxeT"),o=n("2TvXO"),r=n("4Nugj"),s=n("9TUSr");n("jPW8c"),n("6qd2L");var c=n("5hsTI"),d=new(0,s.default),u=JSON.parse(localStorage.getItem("saveDataStorage"))||{queue:[],watched:[]};0!==u.watched.length?r.refs.watchedHederBtnEl.textContent="watched  ".concat(u.watched.length):0!==u.queue.length&&(r.refs.queueHederBtnEl.textContent="queue ".concat(u.queue.length)),r.refs.filmList.addEventListener("click",(function(e){return f.apply(this,arguments)})),r.refs.closeBtnEl.addEventListener("click",(function(){r.refs.backdropEl.classList.add("visually-hidden"),(0,c.cleanerMarkup)(r.refs.modalFilmWrap)})),r.refs.modalFilmWrap.addEventListener("click",(function(e){if(console.log(m),"BUTTON"!==e.target.nodeName)return;if("watched"===e.target.dataset.action){var t=m;u.watched.push(t),0!==u.watched.length&&(r.refs.watchedHederBtnEl.textContent="watched  ".concat(u.watched.length)),localStorage.setItem("saveDataStorage",JSON.stringify(u))}if("queue"===e.target.dataset.action){var a=m;u.queue.push(a),0!==u.watched.length&&(r.refs.queueHederBtnEl.textContent="queue ".concat(u.queue.length)),localStorage.setItem("saveDataStorage",JSON.stringify(u))}})),r.refs.watchedHederBtnEl.addEventListener("click",(function(){(0,c.cleanerMarkup)(r.refs.filmList)})),r.refs.queueHederBtnEl.addEventListener("click",(function(){(0,c.cleanerMarkup)(r.refs.filmList)}));var m={};function f(){return(f=e(i)(e(o).mark((function t(a){var l,n,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(window),a.preventDefault(),"A"===a.target.parentNode.parentElement.nodeName){e.next=4;break}return e.abrupt("return");case 4:return l=a.target.parentNode.parentElement.id,d.filmId=l,e.next=8,d.fetchById();case 8:return n=e.sent,e.next=11,p(n.data);case 11:i=e.sent,(0,c.cleanerMarkup)(r.refs.modalFilmWrap),v(i),r.refs.backdropEl.classList.remove("visually-hidden"),m=n.data,console.log(m);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){var t=e.poster_path,a=e.original_title,l=e.title,n=e.vote_average,i=e.vote_count,o=e.genres,r=e.popularity,s=e.overview,c=e.id,d=o.map((function(e){return e.name})).join(", ");return'<div class="modal-film-image-wrap"><img class="modal-film-image" src="https://image.tmdb.org/t/p/original'.concat(t,'\n    " alt="').concat(l,'" width="375" height="478">\n    </div>\n    <div class="modal-film-info-wrap">\n    <h2 class="modal-film-title">').concat(l,'</h2>\n    <div class="modal-film-info-list">\n    <ul class="modal-film-properties-list">\n      <li class="modal-film-properties-item">Vote/Votes</li>\n      <li class="modal-film-properties-item">Popularity</li>\n      <li class="modal-film-properties-item">Original Title</li>\n      <li class="modal-film-properties-item">Genre</li>\n    </ul>\n    <ul class="modal-film-value-list">\n      <li class="modal-film-value-item"><span class="modal-film-vote-average">').concat(n,'</span>/<span class="modal-film-vote-count">').concat(i,'</span></li>\n      <li class="modal-film-value-item">').concat(r,'</li>\n      <li class="modal-film-value-item">').concat(a.toUpperCase(),'</li>\n      <li class="modal-film-value-item">').concat(d,'</li>\n    </ul>\n    </div>\n    <h3 class="modal-film-about-title">ABOUT</h3>\n    <p class="modal-film-about-text">').concat(s,'</p>\n    <ul class="modal-film-button-list">\n      <li class="modal-film-button-item"><button id="').concat(c,'" class="modal-film-button" type="button" data-action=\'watched\'>ADD TO WATCHED</button></li>\n      <li class="modal-film-button-item"><button id="').concat(c,'" class="modal-film-button" type="button" data-action=\'queue\'>ADD TO QUEUE</button></li>\n    </ul> </div>')}function v(e){r.refs.modalFilmWrap.insertAdjacentHTML("beforeend",e)}}();
//# sourceMappingURL=films.5c405ee9.js.map
