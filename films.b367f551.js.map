{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,6BCAAD,EAAAC,EAAA,S,qDACeC,ECDd,W,sBDCoBC,I,aAEbC,KAAKC,GAAK,C,iBAELC,IAAA,Y,MAAN,W,kBAAAC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAGaC,E,yEAFZJ,EAAAK,GAAMC,SAASC,QAAU,+BACT,mC,kBACaP,EAAAK,GAAMG,IAAI,UAA6BC,OAAnBC,EAAKZ,GAAG,aAAmBW,OAD5D,mCAC4D,oB,cAAhEL,EAAQO,EAAAC,KACnBC,QAAQC,IAAIV,G,kBACLA,G,kCAESS,QAAQE,MAAKJ,EAAAK,I,yDAP/B,E,IAWIjB,IAAA,S,IAAJ,WAAa,OAAOF,KAAKC,E,MAIzB,SAAWmB,GACVpB,KAAKC,GAAKmB,C,OCrBjB,G,sBFKD,IAAMC,EAAe,IAAIvB,E,SAOVwB,I,OAAAA,EAAfnB,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAA+BiB,G,IAKzBC,EAGEC,E,qEAPNF,EAAMG,iBACiD,MAAnDH,EAAMI,OAAOC,WAAWC,cAAcC,SAAgB,C,uDAGtDN,EAAaD,EAAMI,OAAOC,WAAWC,cAAc5B,GACvDe,QAAQe,IAAIR,EAAMI,OAAOC,WAAWC,eACpCR,EAAaW,OAASR,E,SACIH,EAAaY,Y,cAAjCR,EAAWX,EAAAC,K,UACImB,EAAsBT,EAAYU,M,QACvDC,EADYtB,EAAAC,MAEZsB,EAAAC,KAAKC,WAAWC,UAAUC,OAAO,mB,6CAXLC,MAAA1C,KAAA2C,U,CAc9B,SAAST,EAAsBC,GAC7B,IACES,EAQET,EARFS,YACAC,EAOEV,EAPFU,eACAC,EAMEX,EANFY,MACAC,EAKEb,EALFa,aACAC,EAIEd,EAJFc,WACAC,EAGEf,EAHFe,OACAC,EAEEhB,EAFFgB,WACAC,EACEjB,EADFiB,SAEIC,EAAaH,EAAOI,KAAI,SAAAC,G,OAAOA,EAAJC,I,IAAiBC,KAAK,MAsBvD,MArBe,yEACJ7C,OAD6EgC,EAAY,iBAEnEhC,OADtBkC,EAAM,yCAS6DlC,OAR7CkC,EAAM,gbAQkGlC,OAA3DoC,EAAa,gDACnDpC,OADiGqC,EAAW,0DAE5GrC,OADAuC,EAAW,mDAEXvC,OADAiC,EAAe,mDAIlBjC,OAHGyC,EAAW,8GAGLzC,OAATwC,EAAS,uS,CAQhD,SAAShB,EAAsBsB,GAC7BrB,EAAAC,KAAKqB,cAAcC,mBAAmB,YAAaF,E,CAxDrDrB,EAAAC,KAAKuB,SAASC,iBAAiB,S,SAKAvC,G,OAAhBD,EAAeoB,MAAA1C,KAAA2C,U,IAJ9BN,EAAAC,KAAKyB,WAAWD,iBAAiB,SA0DjC,WACEzB,EAAAC,KAAKC,WAAWC,UAAUwB,IAAI,kB,IAzDhChD,QAAQC,IAAIoB,EAAAC,KAAKqB,c","sources":["src/js/modal-filmoteka.js","src/js/film-api.js","<<jsx-config-pragma.js>>"],"sourcesContent":["import { refs } from './refs';\nimport MovieService from './film-api';\nimport { genresList } from './genres-list';\nimport { title } from 'process';\n\nconst movieService = new MovieService();\n\nrefs.filmList.addEventListener('click', onFilmItemClick);\nrefs.closeBtnEl.addEventListener('click', onCloseFilmModal);\n\nconsole.log(refs.modalFilmWrap);\n\nasync function onFilmItemClick(event) {\n  event.preventDefault();\n  if (event.target.parentNode.parentElement.nodeName !== 'A') {\n    return;\n  }\n  let filmCardId = event.target.parentNode.parentElement.id;\n  console.dir(event.target.parentNode.parentElement);\n  movieService.filmId = filmCardId;\n  const backendData = await movieService.fetchById();\n  const markup = await createFilmModalMarkup(backendData.data);\n  renderFilmModalMarkup(markup);\n  refs.backdropEl.classList.remove('visually-hidden');\n}\n\nfunction createFilmModalMarkup(data) {\n  const {\n    poster_path,\n    original_title,\n    title,\n    vote_average,\n    vote_count,\n    genres,\n    popularity,\n    overview,\n  } = data;\n  const genreItems = genres.map(({ name }) => name).join(', ');\n  const markup = `<img class=\"modal-film-image\" src=\"https://image.tmdb.org/t/p/original${poster_path}\n    \" alt=\"${title}\">\n    <h2 class=\"modal-film-title\">${title}</h2>\n    <ul class=\"modal-film-properties-list\">\n      <li class=\"modal-film-properties-item\">Vote/Votes</li>\n      <li class=\"modal-film-properties-item\">Popularity</li>\n      <li class=\"modal-film-properties-item\">Original Title</li>\n      <li class=\"modal-film-properties-item\">Genre</li>\n    </ul>\n    <ul class=\"modal-film-value-list\">\n      <li class=\"modal-film-value-item\"><span class=\"modal-film-vote-average\">${vote_average}</span>/<span class=\"modal-film-vote-count\">${vote_count}</span></li>\n      <li class=\"modal-film-value-item\">${popularity}</li>\n      <li class=\"modal-film-value-item\">${original_title}</li>\n      <li class=\"modal-film-value-item\">${genreItems}</li>\n    </ul>\n    <h3 class=\"modal-film-about-title\">ABOUT</h3>\n    <p class=\"modal-film-about-text\">${overview}</p>\n    <ul class=\"modal-film-button-list\">\n      <li class=\"modal-film-button-item\"><button class=\"modal-film-button\" type=\"button\">ADD TO WATCHED</button></li>\n      <li class=\"modal-film-button-item\"><button class=\"modal-film-button\" type=\"button\">ADD TO QUEUE</button></li>\n    </ul>`;\n  return markup;\n}\n\nfunction renderFilmModalMarkup(markup) {\n  refs.modalFilmWrap.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onCloseFilmModal() {\n  refs.backdropEl.classList.add('visually-hidden');\n}\n","import axios from \"axios\";\nexport default class MovieService {\n    constructor() {\n        this.id = 0;\n       }\n       async fetchById(){\n        axios.defaults.baseURL = 'https://api.themoviedb.org/3';\n        const API_KEY = '74bfe718a55ac7916c6e6ad87b15f944';\n         try {const response = await axios.get(`/movie/${this.id}?api_key=${API_KEY}&language=en-US`) \n         console.log(response); \n         return response;   \n            \n        } catch (error) {console.error(error);\n            \n        }\n       }\n       get filmId(){return this.id\n\n       }\n\n       set filmId(newId){\n        this.id = newId;\n       }\n}\n\n\n",null],"names":["$bpxeT","parcelRequire","$73555eb24ab144f1$export$2e2bcd8739ae039","MovieService","this","id","key","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","defaults","baseURL","get","concat","_this","_ctx","sent","console","log","error","t0","newId","$4e3b4b7910be1058$var$movieService","$4e3b4b7910be1058$var$_onFilmItemClick","event","filmCardId","backendData","preventDefault","target","parentNode","parentElement","nodeName","dir","filmId","fetchById","$4e3b4b7910be1058$var$createFilmModalMarkup","data","$4e3b4b7910be1058$var$renderFilmModalMarkup","$4Nugj","refs","backdropEl","classList","remove","apply","arguments","poster_path","original_title","title1","title","vote_average","vote_count","genres","popularity","overview","genreItems","map","param","name","join","markup","modalFilmWrap","insertAdjacentHTML","filmList","addEventListener","closeBtnEl","add"],"version":3,"file":"films.b367f551.js.map"}